{"ast":null,"code":"import axios from 'axios';\nimport { enviaMensagem } from './chat';\nexport const conversaWatsonRequest = () => {\n  return {\n    type: 'CONVERSA_WATSON_REQUEST',\n    carregando: true,\n    erro: false\n  };\n};\nexport const conversaWatsonSucess = respostas => {\n  return {\n    type: 'CONVERSA_WATSON_SUCESS',\n    respostas,\n    carregando: false,\n    erro: false\n  };\n};\nexport const conversaWatsonError = () => {\n  return {\n    type: 'CONVERSA_WATSON_ERROR',\n    carregando: false,\n    erro: true\n  };\n};\nexport const conversaWatson = (mensagem, contexto) => {\n  return dispatch => {\n    dispatch(conversaWatsonRequest()); //chama o backend do watson (Firebase cloud functions)\n    //const url = 'https://us-central1-chatbot-em-react.cloudfunctions.net/conversa'\n\n    console.log(\"mensagem.texto\", mensagem.texto);\n    console.log(\"contexto\", contexto); //const url = 'https://us-central1-chatbot-restaurantes.cloudfunctions.net/conversa'\n\n    const url = 'http://localhost:5000/chatbot-8da63/us-central1/conversa';\n    axios.post(url, {\n      input: {\n        text: mensagem.texto\n      },\n      context: contexto\n    }).then(data => {\n      dispatch(conversaWatsonSucess(data));\n      const msg = {\n        texto: data.data.output.text[0],\n        origem: 'bot'\n      };\n      dispatch(enviaMensagem(msg));\n    }).catch(() => dispatch(conversaWatsonError()));\n  };\n}; // conversaWatson(mensagem, contexto)\n// conversaWatsonRequest() => \n// conversaWatsonSucess(resposta)\n// conversaWatsonError()","map":{"version":3,"sources":["C:\\Users\\Suporte\\Videos\\chat-teste\\src\\componentes\\store\\actions\\watson.js"],"names":["axios","enviaMensagem","conversaWatsonRequest","type","carregando","erro","conversaWatsonSucess","respostas","conversaWatsonError","conversaWatson","mensagem","contexto","dispatch","console","log","texto","url","post","input","text","context","then","data","msg","output","origem","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAmB,OAAnB;AACA,SAAQC,aAAR,QAA4B,QAA5B;AAGA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;AACvC,SAAM;AACFC,IAAAA,IAAI,EAAE,yBADJ;AAEFC,IAAAA,UAAU,EAAE,IAFV;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GAAN;AAKH,CANM;AAQP,OAAO,MAAMC,oBAAoB,GAAIC,SAAD,IAAc;AAC9C,SAAM;AACFJ,IAAAA,IAAI,EAAE,wBADJ;AAEFI,IAAAA,SAFE;AAGFH,IAAAA,UAAU,EAAE,KAHV;AAIFC,IAAAA,IAAI,EAAE;AAJJ,GAAN;AAMH,CAPM;AASP,OAAO,MAAMG,mBAAmB,GAAG,MAAM;AACrC,SAAM;AACFL,IAAAA,IAAI,EAAE,uBADJ;AAEFC,IAAAA,UAAU,EAAE,KAFV;AAGFC,IAAAA,IAAI,EAAE;AAHJ,GAAN;AAKH,CANM;AAWP,OAAO,MAAMI,cAAc,GAAI,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACnD,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACV,qBAAqB,EAAtB,CAAR,CADe,CAEf;AACA;;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,QAAQ,CAACK,KAAvC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,QAAxB,EALe,CAMf;;AACA,UAAMK,GAAG,GAAG,0DAAZ;AACAhB,IAAAA,KAAK,CACAiB,IADL,CACUD,GADV,EACe;AAAEE,MAAAA,KAAK,EAAE;AAACC,QAAAA,IAAI,EAAET,QAAQ,CAACK;AAAhB,OAAT;AAAiCK,MAAAA,OAAO,EAAET;AAA1C,KADf,EAEKU,IAFL,CAEWC,IAAD,IAAU;AACZV,MAAAA,QAAQ,CAACN,oBAAoB,CAACgB,IAAD,CAArB,CAAR;AACA,YAAMC,GAAG,GAAG;AACRR,QAAAA,KAAK,EAAEO,IAAI,CAACA,IAAL,CAAUE,MAAV,CAAiBL,IAAjB,CAAsB,CAAtB,CADC;AAERM,QAAAA,MAAM,EAAE;AAFA,OAAZ;AAIAb,MAAAA,QAAQ,CAACX,aAAa,CAACsB,GAAD,CAAd,CAAR;AACH,KATL,EAUKG,KAVL,CAUW,MAAMd,QAAQ,CAACJ,mBAAmB,EAApB,CAVzB;AAWH,GAnBD;AAoBH,CArBM,C,CAwBP;AAEA;AACA;AACA","sourcesContent":["import axios from  'axios'\nimport {enviaMensagem} from './chat'\n\n\nexport const conversaWatsonRequest = () => {\n    return{\n        type: 'CONVERSA_WATSON_REQUEST',\n        carregando: true,\n        erro: false\n    }\n}\n\nexport const conversaWatsonSucess = (respostas) =>{\n    return{\n        type: 'CONVERSA_WATSON_SUCESS',\n        respostas,\n        carregando: false,\n        erro: false\n    }\n}\n\nexport const conversaWatsonError = () => {\n    return{\n        type: 'CONVERSA_WATSON_ERROR',\n        carregando: false,\n        erro: true\n    }\n}\n\n\n\n\nexport const conversaWatson = ((mensagem, contexto) => {\n    return dispatch => {\n        dispatch(conversaWatsonRequest())\n        //chama o backend do watson (Firebase cloud functions)\n        //const url = 'https://us-central1-chatbot-em-react.cloudfunctions.net/conversa'\n        console.log(\"mensagem.texto\", mensagem.texto)\n        console.log(\"contexto\", contexto)\n        //const url = 'https://us-central1-chatbot-restaurantes.cloudfunctions.net/conversa'\n        const url = 'http://localhost:5000/chatbot-8da63/us-central1/conversa'\n        axios\n            .post(url, { input: {text: mensagem.texto}, context: contexto })\n            .then((data) => {\n                dispatch(conversaWatsonSucess(data))\n                const msg = {\n                    texto: data.data.output.text[0],\n                    origem: 'bot'\n                }\n                dispatch(enviaMensagem(msg))\n            })\n            .catch(() => dispatch(conversaWatsonError()))\n    }\n})\n\n\n// conversaWatson(mensagem, contexto)\n\n// conversaWatsonRequest() => \n// conversaWatsonSucess(resposta)\n// conversaWatsonError()\n\n"]},"metadata":{},"sourceType":"module"}